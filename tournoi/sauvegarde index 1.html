<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Tournament</title>
  <script type="application/javascript" src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <script type="application/javascript" src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <script type="application/javascript" src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
  <style>.battle-player-win {
    color: #00ae00;
    background-color: #f6fff6;
}

.battle-player-loose {
    opacity: 0.3;
    color: red
}
.battle-wrapper{
    display:flex;
    align-items: center;
}

.battle {
  margin: 10px;
  padding: 5px;
  border: 1px solid rgb(0, 0, 0);
  box-shadow: 2px 2px 4px #20202055;
  background-color:#79d0f8;

}
.battle-list-item{
  flex:1 1;

}

.battle-player{
  margin-bottom: 10px;
}

h2,h3{
  padding:0;
  margin:0;
}
@media screen and (max-width: 440px){
  .battle{ background-color: pink;}
  .battle-wrapper{
    flex-direction: column;
}



}
  

</style>
</head>
<body>
<div id="app"></div>

<script type="text/babel">
 
const rootElement = document.getElementById('app')

 function PairOfPlayers(props) {
    const [listPlayers, setListPlayers] = React.useState(["Ashton","Billy","Claire"]); 
    React.useEffect( () => {
              fetch("http://localhost/joueurs/player-list.php")
        .then(response => response.json() )
        .then(data =>  {setListPlayers(data)} )
        .catch(e => console.error(e))
          }
        ,[]);

    const [username1, setUsername1] = React.useState(null);
    const onBlurHandle1 = (e) => { 
            setUsername1(prevState => e.target.value)}
           
    
    const [score1, setScore1] = React.useState(null);
    const onBlurScore1 = (e) => { 
            setScore1(prevState => Number(e.target.value) )}
    
    
    const [username2, setUsername2] = React.useState(null);
    const onBlurHandle2 = (e) => { 
            setUsername2(prevState => e.target.value)}
    
    
    const [score2, setScore2] = React.useState(null);
    const onBlurScore2 = (e) => { 
            setScore2(prevState => Number(e.target.value) )}

let classNameScore = "battle-player battle-player";


    return <div className="battle">
 <div className={ !score1 ? classNameScore : score1 > score2 ? classNameScore  + "-win" : classNameScore + "-loose" }>
  <div className="user-name">
    { username1 ? 
                <h2>{username1}</h2>
                : <div><label>Name : </label>
                <input type="text" name="username1" placeholder="Your name" onBlur={onBlurHandle1}  />
                </div>
                }
  </div>
  <div className="score">
    { score1 ? 
                <h2>{score1}</h2>
                : <div><label>Number : </label>
                <input type="number" number="score1" placeholder="saisir votre score" onBlur={onBlurScore1}  />
                </div>
                }      
    
                
    </div>
 </div> <div className={ !score2 ? classNameScore : score2 > score1 ? classNameScore  + "-win" : classNameScore + "-loose" }>
  <div className="user-name">
    { username2 ? 
                <h2>{username2}</h2>
                : <div><label>Name : </label>
                <input type="text" name="username2" placeholder="Your name" onBlur={onBlurHandle2}  />
                </div>
                }
  </div>
  <div className="score">
    { score2 ? 
                <h2>{score2}</h2>
                : <div><label>Number : </label>
                <input type="number" number="score2" placeholder="saisir votre score" onBlur={onBlurScore2}  />
                </div>
                }     

    </div>
 </div>
</div>;
}


function Tournament(props){
  return(<div class="battle-wrapper">
  <div className="battle-list battle-list-item"> QUART DE FINALE
    <PairOfPlayers level={1}/> 
    <PairOfPlayers level={2}/>
    <PairOfPlayers level={3}/>
    <PairOfPlayers level={4}/>
  
  </div>

  <div className="battle-list_2 battle-list-item"> DEMI-FINALE
    <PairOfPlayers level={1}/> 
    <PairOfPlayers level={2}/>
      
  </div>
  <div className="battle-list_3 battle-list-item"> FINALE
    <PairOfPlayers level={1}/> 
    
  </div>
</div>);
 
<PairOfPlayers level="1" />
}

<Tournament libelle="Gaming" />
    ReactDOM.render(
      <Tournament />,
      rootElement
    )
</script>

</body>

</html>